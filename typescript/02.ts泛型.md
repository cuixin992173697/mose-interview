## 什么是泛型？

### 泛型（Generic）就是 在定义函数、接口或类时，不预先指定具体的类型，而在使用时再指定类型 的一种特性。通俗地说：让类型也能像参数一样传递


#### 1.最基本的泛型函数

```
function identity<T>(value: T): T {
  return value;
}

// 使用时指定类型
const num = identity<number>(123)
const str = identity<string>('hello')

// 也可以由TS自动推断类型
const auto = identity(true) // 推断 T 为 boolean
```

#### 2.多个泛型参数

```
function swap<A, B>(a: A, b: B): [B, A] {
  return [b, a]
}

const res = swap<string, number>('hello', 123)
// 结果类型: [number, string]
```

#### 3.泛型约束

```
function getLength<T extends { length: number }>(arg: T): number {
  return arg.length
}

getLength('hello') // ✅ 字符串有 length
getLength([1,2,3]) // ✅ 数组有 length
getLength(123)     // ❌ number 没有 length

// T extends { length: number } 表示 T 必须有 length 属性。
```

#### 4.泛型接口

```
interface ApiResponse<T> {
  code: number
  data: T
  message: string
}

const userResponse: ApiResponse<{ name: string, age: number }> = {
  code: 200,
  data: { name: '崔鑫', age: 25 },
  message: 'ok'
}
```


#### 5.泛型类

```
class Box<T> {
  value: T
  constructor(value: T) {
    this.value = value
  }
  getValue(): T {
    return this.value
  }
}

const box1 = new Box<number>(100)
const box2 = new Box<string>('hello')
```

#### 6.泛型推断 && 默认值

```
function createArray<T = string>(length: number, value: T): T[] {
  return Array(length).fill(value)
}

createArray(3, 'x') // 推断为 string[]
createArray<number>(3, 1) // 手动指定为 number[]
```